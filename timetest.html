<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="last-modified" content="2018-05-26" />
  <title>morphclock: timetest</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.js"></script>
  <link rel="stylesheet" type="text/css" href="morph.css">
  <script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.js"></script>
  <script type="text/javascript" language="javascript" src="morphclock.min.js"></script>
</head>
<body>
	<div id="spinner-container" style="display: inline-block;">
		<table>
			<tr>
				<td>Jahre: </td>
				<td><input id="spinner_year"></td>
			</tr>
			<tr>
				<td>Monate: </td>
				<td><input id="spinner_month"></td>
			</tr>
			<tr>
				<td>Tage: </td>
				<td><input id="spinner_day"></td>
			</tr>
			<tr>
				<td>Stunden: </td>
				<td><input id="spinner_hour"></td>
			</tr>
			<tr>
				<td>Minuten: </td>
				<td><input id="spinner_minute"></td>
			</tr>
			<tr>
				<td>Sekunden: </td>
				<td><input id="spinner_second"></td>
			</tr>
		</table>
    <button id="reset">Reset</button>
  </div>

  <div id="morph-container" style="width: 50%; display: inline-block;">
    <div data-type="morphclock" data-format="hhmmss12"></div>
    <div data-type="morphclock" data-format="hhmmss24"></div>
    <div data-type="morphdate" data-format="full"></div>
    <div data-type="morphdate" data-format="full-de"></div>
    <div data-type="morphlogo"></div>
  </div>

  <p>
    Die Glyphen sind unter <a href="allglyphs.html">allglyphs.html</a>
    gelistet (statisch und dynamisch), die Standardanzeige ist unter
    <a href="index.html">index.html</a> abrufbar.
  </p>

  <script type="text/javascript" language="javascript">
    $( "#spinner_year" ).spinner();
    $( "#spinner_month" ).spinner();
    $( "#spinner_day" ).spinner();
    $( "#spinner_hour" ).spinner();
    $( "#spinner_minute" ).spinner();
    $( "#spinner_second" ).spinner();

    $( "#reset" ).on( "click", function() {
      $('input').each(function() {
            $(this).spinner( "value", 0 );
        });
    });

    MorphDisplay.prototype.update = function() {
      var offset = $( "#spinner_year" ).spinner( "value" ) * 356 * 24 * 60 * 60 * 1000 + // Jahr
                   $( "#spinner_month" ).spinner( "value" ) * 30 * 24 * 60 * 60 * 1000 + // Monat
                          $( "#spinner_day" ).spinner( "value" ) * 24 * 60 * 60 * 1000 + // Tag
                              $( "#spinner_hour" ).spinner( "value" ) * 60 * 60 * 1000 + // Stunde
                                 $( "#spinner_minute" ).spinner( "value" ) * 60 * 1000 + // Minute
                                      $( "#spinner_second" ).spinner( "value" ) * 1000;  // Sekunde

      let now = new MorphTimeDate(offset);
      // wir Ã¼bergeben 'this' an die jeweilige Funktion:
      this[this.type].update.call(this, now);
    }

    function renderTime() {
      // animiere die MorphDisplay-Elemente
      setTimeout('renderTime()',10);

      Morph.update();
    }
    renderTime();
  </script>
</body>
</html>